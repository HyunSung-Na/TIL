# 프로토타입



자바스크립트는 명령형, 함수형, 프로토타입 기반 객체지향 프로그래밍을 지원하는 멀티 패러다임 프로그래밍 언어다.



자바스크립트를 이루고 있는 거의 "모든것"은 객체다. 원시타입의 값을 제외한 나머지 값들(함수, 배열, 정규표현식 등)은 모두 객체다.



#### 객체지향 프로그래밍

사람에게는 다양한 속성이 있으나 우리가 구현하려는 프로그램에서는 사람의 "이름"과 "주소"라는 속성에만 관심이 있다고 가정하자. 이처럼 다양한 속성 중에서 프로그램에 필요한 속성만 간추려 내어 표현하는 것을 **추상화**라고 한다.



```javascript
//이름과 주소 속성을 갖는 객체

const person = {
    name: "Lee",
    address: "Seoul"
};

console.log(person); // {name: "Lee", address: "Seoul"}
```



이처럼 속성을 통해 여러 개의 값을 하나의 단위로 구성한 복합적인 자료구조를 객체라 하며, 객체지향 프로그래밍은 독립적인 객체의 집합으로 프로그램을 표현하려는 프로그래밍 패러다임이다.



- 이처럼 객체지향 프로그래밍은 객체의 **상태**를 나타내는 데이터와 상태 데이터를 조작할 수 있는 **동작**을 하나의 논리적인 단위로 묶어 생각한다. 따라서 객체는 상태 데이터와 동작을 하나의 논리적인 단위로 묶은 **복합적인 자료구조**라고 할 수 있다.



#### 상속과 프로토타입

상속은 객체지향 프로그래밍의 핵심 개념으로, 어떤 객체의 프로퍼티 또는 메서드를 다른객체가 상속받아 그대로 사용할 수 있는 것을 말한다.



자바스크립트는 프로토타입을 기반으로 상속을 구현한다.

```javascript
//생성자 함수
function Circle(radius) {
    this.radius = radius;
}

// Circle 생성자 함수가 생성한 모든 인스턴스가 getArea 메서드를
// 공유해서 사용할 수 있도록 프로토타입에 추가한다.
// 프로토타입은 Circle 생성자 함수의 prototype 프로퍼티에 바인딩되어 있다.

Circle.prototype.getArea = function () {
    return Math.PI * this.radius ** 2;
};

const circle1 = new Circle(1);
const circle2 = new Circle(2);

// Circle 생성자 함수가 생성한 모든 인스턴스는 부모 객체의 역할을 하는
// 프로토타입 Circle.prototype으로부터 getArea 메서드를 상속받는다.
// 즉, Circle 생성자 함수가 생성하는 모든 인스턴스는 하나의 getArea 메서드를 공유한다.
console.log(circle1.getArea === circle2.getArea); // true

console.log(circle1.getArea()); // 3.131592653589793
console.log(circle2.getArea()); // 12.5663....
```



<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F6HASF%2FbtqNpGUCqip%2FRzHJDkVeVBHQrFOyfVFeh1%2Fimg.png" />





#### 프로토타입 객체

프로토 타입 객체란 객체지향 프로그래밍의 근간을 이루는 객체 간 상속을 구현하기 위해 사용된다. 프로토타입은 어떤 객체의 상위 객체의 역할을 하는 객체로서 다른객체에 공유 프로퍼티를 제공한다. 프로토타입을 상속받은 하위객체는 상위 객체의 프로퍼티를 자신의 프로퍼티처럼 자유롭게 사용할 수 있다.



모든 객체는 하나의 프로토타입을 갖는다. 그리고 모든 프로토타입은 생성자 함수와 연결되어 있다. 즉 객체와 프로토타입과 생성자 함수는 서로 연결되어 있다.



##### __proto__ 접근자 프로퍼티

모든 객체는 proto 접근자 프로퍼티를 통해 자신의 프로토타입, 즉 [[Prototype]] 내부 슬롯에 간접적으로 접근할 수 있다.

- 접근자 프로퍼티는 자체적으로는 값 [[Value]] (프로퍼티어트리뷰트)을 갖지 않고 다른데이터 프로퍼티의 값을 읽거나 저장할 때 사용하는 접근자함수, 즉 [[Get]], [[Set]] 프로퍼티 어트리뷰트로 구성된 프로퍼티다.
- Object.prototype의 접근자 프로퍼티인 proto는 getter/setter 함수라고 부르는 접근자 함수 [[Get]], [[Set]] 프로퍼티 어트리뷰트에 할당된 함수를 통해 [[Prototype]] 내부 슬롯의 값, 즉 프로토타입을 취득하거나 할당한다. proto 접근자 프로퍼티를 통해 프로토타입에 접근하면 내부적으로 proto 접근자를 통해 getter 함수인 [[Get]]이 호출된다.