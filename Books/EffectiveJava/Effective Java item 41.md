# Effective Java item 41



### μ •μν•λ ¤λ” κ²ƒμ΄ νƒ€μ…μ΄λΌλ©΄ λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λΌ



- μ•„λ¬΄ λ©”μ„λ“λ„ λ‹΄κ³  μμ§€ μ•κ³ , λ‹¨μ§€ μμ‹ μ„ κµ¬ν„ν•λ” ν΄λμ¤κ°€ νΉμ • μ†μ„±μ„ κ°€μ§μ„ ν‘μ‹ν•΄μ£Όλ” μΈν„°νμ΄μ¤λ¥Ό λ§μ»¤ μΈν„°νμ΄μ¤λΌ ν•λ‹¤. Serializable μΈν„°νμ΄μ¤κ°€ μΆ‹μ€ μλ‹¤. Serializableμ€ μμ‹ μ„ κµ¬ν„ν• ν΄λμ¤μ μΈμ¤ν„΄μ¤λ” ObjectOutputStreamμ„ ν†µν•΄ μ“Έ μ μλ‹¤κ³ , μ¦‰ μ§λ ¬ν™”ν•  μ μλ‹¤κ³  μ•λ ¤μ¤€λ‹¤.
- λ§μ»¤ μ• λ„ν…μ΄μ…μ΄ λ“±μ¥ν•λ©΄μ„, λ§μ»¤ μΈν„°νμ΄μ¤λ” κµ¬μ‹μ΄ λμ—λ‹¤λ” μ΄μ•ΌκΈ°λ¥Ό λ“¤μ–΄λ³΄μ•μ„ κ²ƒμ΄λ‹¤. ν•μ§€λ§ μ‚¬μ‹¤μ΄ μ•„λ‹λ‹¤. λ§μ»¤ μΈν„°νμ΄μ¤λ” λ‘ κ°€μ§€ λ©΄μ—μ„ λ§μ»¤ μ• λ„ν…μ΄μ…λ³΄λ‹¤ λ‚«λ‹¤.
  1. λ§μ»¤ μΈν„°νμ΄μ¤λ” μ΄λ¥Ό κµ¬ν„ν• ν΄λμ¤μ μΈμ¤ν„΄μ¤λ“¤μ„ κµ¬λ¶„ν•λ” νƒ€μ…μΌλ΅ μ“Έμ μμΌλ‚, λ§μ»¤ μ• λ„ν…μ΄μ…μ€ κ·Έλ ‡μ§€ μ•λ‹¤. λ§μ»¤ μΈν„°νμ΄μ¤λ” μ–΄μ—Ών• νƒ€μ…μ΄κΈ° λ•λ¬Έμ—, λ§μ»¤ μ• λ„ν…μ΄μ…μ„ μ‚¬μ©ν–λ‹¤λ©΄ λ°νƒ€μ„μ—μ•Ό λ°κ²¬λ  μ¤λ¥λ¥Ό μ»΄νμΌ νƒ€μ„μ— μ΅μ„ μ μλ‹¤.
  2. μ μ© λ€μƒμ„ λ” μ •λ°€ν•κ² μ§€μ •ν•  μ μλ‹¤λ” κ²ƒμ΄λ‹¤. μ μ© λ€μƒ(@Target)μ„ ElementType.TYPEμΌλ΅ μ„ μ–Έν• μ• λ„ν…μ΄μ…μ€ λ¨λ“  νƒ€μ…μ— λ‹¬ μ μλ‹¤. λ¶€μ°©ν•  μ μλ” νƒ€μ…μ„ λ” μ„Έλ°€ν•κ² μ ν•ν•μ§€λ” λ»ν•λ‹¤λ” λ»μ΄λ‹¤. κ·Έλ°λ° νΉμ • μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤μ—λ§ μ μ©ν•κ³  μ‹¶μ€ λ§μ»¤κ°€ μμΌλ©΄ μΈν„°νμ΄μ¤λ΅ μ •μν–λ‹¤λ©΄ λ§ν‚Ήν•κ³  μ‹¶μ€ ν΄λμ¤μ—μ„λ§ κ·Έ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ©΄ λλ‹¤.
- λ°λ€λ΅ λ§μ»¤ μ• λ„ν…μ΄μ…μ΄ λ§μ»¤ μΈν„°νμ΄μ¤λ³΄λ‹¤ λ‚μ€ μ μΌλ΅λ” κ±°λ€ν• μ• λ„ν…μ΄μ… μ‹μ¤ν…μ μ§€μ›μ„ λ°›λ”λ‹¤λ” μ μ„ λ“¤ μ μλ‹¤. λ”°λΌμ„ μ• λ„ν…μ΄μ…μ„ μ κ·Ή ν™μ©ν•λ” ν”„λ μ„μ›ν¬μ—μ„λ” λ§μ»¤ μ• λ„ν…μ΄μ…μ„ μ“°λ” μ½μ΄ μΌκ΄€μ„±μ„ μ§€ν‚¤λ” λ° μ λ¦¬ν•  κ²ƒμ΄λ‹¤.



β­ κ·Έλ ‡λ‹¤λ©΄ μ–΄λ–¤ λ•μ— λ§μ»¤ μ• λ„ν…μ΄μ…μ„, λ μ–΄λ–¤ λ•μ— λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό μ¨μ•Ό ν•λ”κ°€? ν™•μ‹¤ν• κ²ƒμ€, ν΄λμ¤μ™€ μΈν„°νμ΄μ¤ μ™Έμ ν”„λ΅κ·Έλ¨ μ”μ†(λ¨λ“, ν¨ν‚¤μ§€, ν•„λ“, μ§€μ—­λ³€μ λ“±)μ— λ§ν‚Ήν•΄μ•Ό ν•  λ• μ• λ„ν…μ΄μ…μ„ μ“Έ μ λ°–μ— μ—†λ‹¤. ν΄λμ¤μ™€ μΈν„°νμ΄μ¤λ§μ΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•κ±°λ‚ ν™•μ¥ν•  μ μκΈ° λ•λ¬Έμ΄λ‹¤.



- λ§μ»¤λ¥Ό ν΄λμ¤λ‚ μΈν„°νμ΄μ¤μ— μ μ©ν•΄μ•Ό ν•λ‹¤λ©΄ "μ΄ λ§ν‚Ήμ΄ λ κ°μ²΄λ¥Ό λ§¤κ°λ³€μλ΅ λ°›λ” λ©”μ„λ“λ¥Ό μ‘μ„±ν•  μΌμ΄ μμ„κΉ"λΌκ³  μλ¬Έν•΄λ³΄μ. λ‹µμ΄ "κ·Έλ ‡λ‹¤"λΌλ©΄ λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό μ¨μ•Ό ν•λ‹¤.



> ν•µμ‹¬ μ •λ¦¬
>
> λ§μ»¤ μΈν„°νμ΄μ¤μ™€ λ§μ»¤ μ• λ„ν…μ΄μ…μ€ κ°μμ μ“°μ„μ΄ μλ‹¤. μƒλ΅ μ¶”κ°€ν•λ” λ©”μ„λ“ μ—†μ΄ λ‹¨μ§€ νƒ€μ… μ •μκ°€ λ©μ μ΄λΌλ©΄ λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό μ„ νƒν•μ. ν΄λμ¤λ‚ μΈν„°νμ΄μ¤ μ™Έμ ν”„λ΅κ·Έλ¨ μ”μ†μ— λ§ν‚Ήν•΄μ•Ό ν•κ±°λ‚, μ• λ„ν…μ΄μ…μ„ μ κ·Ή ν™μ©ν•λ” ν”„λ μ„μ›ν¬μ μΌλ¶€λ΅ κ·Έ λ§μ»¤λ¥Ό νΈμ…μ‹ν‚¤κ³ μ ν•λ‹¤λ©΄ λ§μ»¤ μ• λ„ν…μ΄μ…μ΄ μ¬λ°”λ¥Έ μ„ νƒμ΄λ‹¤. μ μ© λ€μƒμ΄ ElementType.TYPEμΈ λ§μ»¤ μ• λ„ν…μ΄μ…μ„ μ‘μ„±ν•κ³  μλ‹¤λ©΄, μ μ‹ μ—¬μ λ¥Ό κ°–κ³  μ •λ§ μ• λ„ν…μ΄μ…μΌλ΅ κµ¬ν„ν•λ” κ² μ³μ€μ§€, νΉμ€ λ§μ»¤ μΈν„°νμ΄μ¤κ°€ λ‚«μ§€λ” μ•μ„μ§€ κ³°κ³°μ΄ μƒκ°ν•΄λ³΄μ.



π€ μ΄λ² μ•„μ΄ν…μ€ "νƒ€μ…μ„ μ •μν•  κ±°λΌλ©΄ μΈν„°νμ΄μ¤λ¥Ό μ“°λΌ"κ³  ν•΄μ„ν•  μλ„ μμΌλ‹, μ–΄λ–¤ μλ―Έμ—μ„λ” "νƒ€μ…μ„ μ •μν•  κ² μ•„λ‹λΌλ©΄ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•μ§€ λ§λΌ"κ³  ν• μ•„μ΄ν… 22λ¥Ό λ’¤μ§‘μ€ κ²ƒμΌλ΅ λ³Ό μ μλ‹¤.