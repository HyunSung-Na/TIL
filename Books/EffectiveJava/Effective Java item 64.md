# Effective Java item 64



### κ°μ²΄λ” μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•΄ μ°Έμ΅°ν•λΌ



μ•„μ΄ν… 51μ—μ„ λ§¤κ°λ³€μ νƒ€μ…μΌλ΅ ν΄λμ¤κ°€ μ•„λ‹λΌ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λΌκ³  ν–λ‹¤. μ΄ μ΅°μ–Έμ„ "κ°μ²΄λ” ν΄λμ¤κ°€ μ•„λ‹ μΈν„°νμ΄μ¤λ΅ μ°Έμ΅°ν•λΌ" κ³  κΉμ§€ ν™•μ¥ν•  μ μλ‹¤. **μ ν•©ν• μΈν„°νμ΄μ¤λ§ μλ‹¤λ©΄ λ§¤κ°λ³€μλΏ μ•„λ‹λΌ λ°ν™κ°’, λ³€μ, ν•„λ“λ¥Ό μ „λ¶€ μΈν„°νμ΄μ¤ νƒ€μ…μΌλ΅ μ„ μ–Έν•λΌ.** κ°μ²΄μ μ‹¤μ  ν΄λμ¤λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•  μƒν™©μ€ 'μ¤μ§' μƒμ„±μλ΅ μƒμ„±ν•  λ•λΏμ΄λ‹¤. 

μλ¥Ό λ“¤μ–΄ λ‹¤μμ€ Set μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• LinkedHashSet λ³€μλ¥Ό μ„ μ–Έν•λ” μ¬λ°”λ¥Έ λ¨μµμ΄λ‹¤.

```java
// μΆ‹μ€ μ. μΈν„°νμ΄μ¤λ¥Ό νƒ€μ…μΌλ΅ μ‚¬μ©ν–λ‹¤.
Set<Son> sonSet = new LinkedHashSet<>();
```

λ‹¤μμ€ μΆ‹μ§€ μ•μ€ μλ‹¤.



```java
// λ‚μ μ. ν΄λμ¤λ¥Ό νƒ€μ…μΌλ΅ μ‚¬μ©ν–λ‹¤!
LinkedHashSet<Son> sonSet = new LinkedHashSet<>();
```

**μΈν„°νμ΄μ¤λ¥Ό νƒ€μ…μΌλ΅ μ‚¬μ©ν•λ” μµκ΄€μ„ κΈΈλ¬λ‘λ©΄ ν”„λ΅κ·Έλ¨μ΄ ν›¨μ”¬ μ μ—°ν•΄μ§ κ²ƒμ΄λ‹¤.** λ‚μ¤‘μ— κµ¬ν„ ν΄λμ¤λ¥Ό κµμ²΄ν•κ³ μ ν•λ‹¤λ©΄ κ·Έμ € μƒ ν΄λμ¤μ μƒμ„±μ(νΉμ€ λ‹¤λ¥Έμ •μ  ν©ν„°λ¦¬)λ¥Ό νΈμ¶ν•΄μ£ΌκΈ°λ§ ν•λ©΄ λλ‹¤. μμ»¨λ€ μ²μ μ„ μ–Έμ€ λ‹¤μμ²λΌ λ°”λ€” κ²ƒμ΄λ‹¤.

```java
Set<Son> sonSet = new HashSet<>();
```

μ΄κ²ƒμΌλ΅ λ! λ‹¤λ¥Έμ½”λ“λ” μ „ν€ μ†λ€μ§€ μ•κ³  μƒλ΅ κµ¬ν„ν• ν΄λμ¤λ΅μ κµμ²΄κ°€ μ™„λ£λλ‹¤.



- λ‹¨, μ£Όμν•  μ μ΄ ν•λ‚ μλ‹¤. μ›λμ ν΄λμ¤κ°€ μΈν„°νμ΄μ¤μ μΌλ° κ·μ•½ μ΄μ™Έμ νΉλ³„ν• κΈ°λ¥μ„ μ κ³µν•λ©°, μ£Όλ³€ μ½”λ“κ°€ μ΄ κΈ°λ¥μ— κΈ°λ€μ–΄ λ™μ‘ν•λ‹¤λ©΄ μƒλ΅μ΄ ν΄λμ¤λ„ λ°λ“μ‹ κ°™μ€ κΈ°λ¥μ„ μ κ³µν•΄μ•Ό ν•λ‹¤.
- μμ»¨λ€ μ²« λ²μ§Έ μ„ μ–Έμ μ£Όλ³€ μ½”λ“κ°€ LinkedHashSetμ΄ λ”°λ¥΄λ” μμ„ μ •μ±…μ„ κ°€μ •ν•κ³  λ™μ‘ν•λ” μƒν™©μ—μ„ μ΄λ¥Ό HashSetμΌλ΅ λ°”κΎΈλ©΄ λ¬Έμ κ°€  λ μ μλ‹¤. HashSetμ€ λ°λ³µμμ μν μμ„λ¥Ό λ³΄μ¥ν•μ§€ μ•κΈ° λ•λ¬Έμ΄λ‹¤.
- κµ¬ν„ νƒ€μ…μ„ λ°”κΎΈλ ¤ ν•λ” λ™κΈ°λ” λ¬΄μ—‡μΌκΉ? μ›λ κ²ƒλ³΄λ‹¤ μ„±λ¥μ΄ μΆ‹κ±°λ‚ λ©‹μ§„ μ‹ κΈ°λ¥μ„ μ κ³µν•κΈ° λ•λ¬ΈμΌ μ μλ‹¤. μλ¥Ό λ“¤μ–΄ HashMapμ„ μ°Έμ΅°ν•λ λ³€μκ°€ μλ‹¤κ³  ν•μ. μ΄λ¥Ό EnumMapμΌλ΅ λ°”κΎΈλ©΄ μ†λ„κ°€ λΉ¨λΌμ§€κ³  μλ…Έν μμ„λ„ ν‚¤μ μμ„μ™€ κ°™μ•„μ§„λ‹¤. λ‹¨ EnumMapμ€ ν‚¤κ°€ μ—΄κ±° νƒ€μ…μΌ λ•λ§ μ‚¬μ©ν•  μ μλ‹¤. ν•νΈ ν‚¤ νƒ€μ…κ³Ό μƒκ΄€μ—†μ΄ μ‚¬μ©ν•  μ μλ” LinkedHashMapμΌλ΅ λ°”κΎΌλ‹¤λ©΄ μ„±λ¥μ€ λΉ„μ·ν•κ² μ μ§€ν•λ©΄μ„ μν μμ„λ¥Ό μμΈ΅ν•  μ μλ‹¤.



π€ **μ ν•©ν• μΈν„°νμ΄μ¤κ°€ μ—†λ‹¤λ©΄ λ‹Ήμ—°ν ν΄λμ¤λ΅ μ°Έμ΅°ν•΄μ•Ό ν•λ‹¤.** 

1. Stringκ³Ό BigInteger κ°™μ€ κ°’ ν΄λμ¤κ°€ κ·Έλ ‡λ‹¤. κ°’ ν΄λμ¤λ¥Ό μ—¬λ¬ κ°€μ§€λ΅ κµ¬ν„λ  μ μλ‹¤κ³  μƒκ°ν•κ³  μ„¤κ³„ν•λ” μΌμ€ κ±°μ μ—†λ‹¤.
2. ν΄λμ¤ κΈ°λ°μΌλ΅ μ‘μ„±λ ν”„λ μ„μ›ν¬κ°€ μ κ³µν•λ” κ°μ²΄λ“¤μ΄λ‹¤. μ΄λ° κ²½μ°λΌλ„ νΉμ • κµ¬ν„ ν΄λμ¤λ³΄λ‹¤λ” (λ³΄ν†µμ€ μ¶”μƒ ν΄λμ¤μΈ) κΈ°λ° ν΄λμ¤λ¥Ό μ‚¬μ©ν•΄ μ°Έμ΅°ν•λ” κ² μΆ‹λ‹¤. OutputStreamλ“± java.io ν¨ν‚¤μ§€μ μ—¬λ¬ ν΄λμ¤κ°€ μ΄ λ¶€λ¥μ— μ†ν•λ‹¤.
3. μΈν„°νμ΄μ¤μ— μ—†λ” νΉλ³„ν• λ©”μ„λ“λ¥Ό μ κ³µν•λ” ν΄λμ¤λ“¤μ΄λ‹¤. μλ¥Ό λ“¤μ–΄ PriorityQueue ν΄λμ¤λ” Queue μΈν„°νμ΄μ¤μ—λ” μ—†λ” comparator λ©”μ„λ“λ¥Ό μ κ³µν•λ‹¤. ν΄λμ¤ νƒ€μ…μ„ μ§μ ‘ μ‚¬μ©ν•λ” κ²½μ°λ” μ΄λ° μ¶”κ°€ λ©”μ„λ“λ¥Ό κΌ­ μ‚¬μ©ν•΄μ•Ό ν•λ” κ²½μ°λ΅ μµμ†ν™”ν•΄μ•Ό ν•λ©°, μ λ€ λ‚¨λ°ν•μ§€ λ§μ•„μ•Ό ν•λ‹¤.



μ΄μƒμ μ„Έ λ¶€λ¥λ” μΈν„°νμ΄μ¤ λ€μ‹  ν΄λμ¤ νƒ€μ…μ„ μ‚¬μ©ν•΄λ„ λλ” μλ„ μμμ„ λ³΄μ—¬μ£ΌκΈ° μ„ν• κ²ƒμΌ λΏμ΄λ―€λ΅ λ¨λ“  μƒν™©μ„ λ‹¤ μ„¤λ…ν•μ§€λ” λ»ν•λ‹¤. μ‹¤μ „μ—μ„λ” μ£Όμ–΄μ§„ κ°μ²΄λ¥Ό ν‘ν„ν•  μ μ ν• μΈν„°νμ΄μ¤κ°€ μλ”μ§€ μ°Ύμ•„μ„ κ·Έ μΈν„°νμ΄μ¤λ΅ μ°Έμ΅°ν•λ©΄ λ” μ μ—°ν•κ³  μ„Έλ ¨λ ν”„λ΅κ·Έλ¨μ„ λ§λ“¤ μ μλ‹¤.



- **μ ν•©ν• μΈν„°νμ΄μ¤κ°€ μ—†λ‹¤λ©΄ ν΄λμ¤μ κ³„μΈµκµ¬μ΅° μ¤‘ ν•„μ”ν• κΈ°λ¥μ„ λ§μ΅±ν•λ” κ°€μ¥ λ κµ¬μ²΄μ μΈ(μƒμ„μ ) ν΄λμ¤λ¥Ό νƒ€μ…μΌλ΅ μ‚¬μ©ν•μ.**



